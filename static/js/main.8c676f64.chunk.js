(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{27:function(e,t,a){e.exports=a(41)},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(23),c=a.n(i),s=(a(32),a(24)),o=a(6),l=a(10),u=a(7),m=a(2),d="https://toriiico.github.io/openrec-chat-client",p=(a(33),{channelId:"",chatInUserName:!1,chatColorMode:!1,chatSize:"60",stampSize:"128",chatSpeed:"7000",chatLengthMax:"30",giftNoticeMode:!0,giftNoticeFeederMode:!0,giftSpeed:"5000",giftNoticeSound:!1,demoMode:!1}),h=function(e,t){var a="?channelId="+e.channelId;e.chatInUserName&&(a+="&chatInUserName="+e.chatInUserName),e.chatColorMode&&(a+="&chatColorMode="+e.chatColorMode),e.chatSize&&(a+="&chatSize="+e.chatSize),e.stampSize&&(a+="&stampSize="+e.stampSize),e.chatSpeed&&(a+="&chatSpeed="+e.chatSpeed),e.chatLengthMax&&(a+="&chatLengthMax="+e.chatLengthMax),e.giftNoticeMode&&(a+="&giftNoticeMode="+e.giftNoticeMode),e.giftNoticeFeederMode&&(a+="&giftNoticeFeederMode="+e.giftNoticeFeederMode),e.giftSpeed&&(a+="&giftSpeed="+e.giftSpeed),e.giftNoticeSound&&(a+="&giftNoticeSound="+e.giftNoticeSound);var n=new Date;return a+="&t="+Math.floor(n.getTime()/1e3),a+="&v="+"v1.0.7".replace(/[^0-9]/g,""),t?d+a+"&demoMode=true&rnd="+Math.random():(e.demoMode&&(a+="&demoMode="+e.demoMode),d+a)},_=function(){var e=Object(n.useState)(p),t=Object(m.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)(""),s=Object(m.a)(c,2),o=s[0],d=s[1],_=Object(n.useState)(""),g=Object(m.a)(_,2),f=g[0],v=g[1],b=Object(n.useState)(!1),y=Object(m.a)(b,2),E=y[0],w=y[1];Object(n.useEffect)((function(){if(""===a.channelId)d("\u30c1\u30e3\u30f3\u30cd\u30ebID\u3092\u5165\u529b\u3059\u308b\u3068URL\u304c\u767a\u884c\u3055\u308c\u307e\u3059");else{var e=h(a);d(e);var t=h(a,!0);v(t)}}),[a]),Object(n.useEffect)((function(){E&&setTimeout((function(){w(!1)}),3e3)}),[E]);var k=function(e){e.persist();var t=String(e.target.id).replace("inp-","");i((function(a){return Object(u.a)({},a,Object(l.a)({},t,e.target.value))}))},S=function(e){e.persist(),console.log(e.target.value),console.log(e.target.id);var t=String(e.target.id).replace("chk-","");i((function(e){return Object(u.a)({},e,Object(l.a)({},t,!e[t]))}))};return r.a.createElement("div",{className:"root"},r.a.createElement("div",{id:"title-area"},r.a.createElement("h1",null,"OPENREC Chat Client - URL Generator"),r.a.createElement("span",null,"v1.0.7")),r.a.createElement("div",{id:"commentary-area"},r.a.createElement("h3",null,"\u3053\u308c\u306f\u4f55\u304b"),r.a.createElement("p",{style:{whiteSpace:"break-spaces"}},"\n          OPENREC\u306e\u653e\u9001\u753b\u9762\u306b\u3001\u30b3\u30e1\u30f3\u30c8\u3084\u30a8\u30fc\u30eb\u306e\u753b\u9762\u3092\u6d41\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u30c4\u30fc\u30eb\u3067\u3059\u3002\n          \u3053\u306e\u30c4\u30fc\u30eb\u306f\u500b\u4eba\u3067\u958b\u767a\u3057\u3066\u3044\u308b\u3082\u306e\u306a\u306e\u3067\u3001\u3042\u308b\u65e5\u7a81\u7136\u4f7f\u3048\u306a\u304f\u306a\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002 \u8a73\u3057\u3044\u4f7f\u3044\u65b9\u306b\u3064\u3044\u3066\u306f\n          ",r.a.createElement("a",{href:"https://tokaisodachi.com/archives/2295"},"\u3053\u3061\u3089\u306e\u30da\u30fc\u30b8"),"\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\n          \u300c\u3053\u3046\u3044\u3046\u6a5f\u80fd\u3092\u4ed8\u3051\u3066\u307b\u3057\u3044\u300d\u3068\u3044\u3046\u65b9\u306f\u6c17\u8efd\u306b\u76f8\u8ac7\u3057\u3066\u4e0b\u3055\u3044\u3002\n          "),r.a.createElement("h3",null,"\u682a\u5f0f\u4f1a\u793e\u30c9\u30ef\u30f3\u30b4\u306e\u7279\u8a31\u306b\u3064\u3044\u3066"),r.a.createElement("p",{style:{whiteSpace:"break-spaces"}},"\n          \u682a\u5f0f\u4f1a\u793e\u30c9\u30ef\u30f3\u30b4\u306e\u7279\u8a31\uff08\u7279\u8a31\u7b2c4695583\u3001\u7279\u8a31\u7b2c4734471\uff09\u306f\u3001\n          \u300c\u30b3\u30e1\u30f3\u30c8\u3092\u3001\u30b3\u30e1\u30f3\u30c8\u4ed8\u4e0e\u6642\u9593\u3068\u52d5\u753b\u518d\u751f\u6642\u9593\u3092\u7528\u3044\u3066\u30b7\u30f3\u30af\u30ed\u3055\u305b\u3001\u52d5\u753b\u4e0a\u306b\u8868\u793a\u3055\u305b\u308b\u300d\u88c5\u7f6e\u306e\u7279\u8a31\u3067\u3059\u3002\n          \u4e00\u65b9\u3067\u3001\u3053\u306e\u30c4\u30fc\u30eb\u306f\u300c\u751f\u914d\u4fe1\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u8868\u793a\u3059\u308b\u300d\u3060\u3051\u306e\u30c4\u30fc\u30eb\u3067\u3059\u3002\n          \u30b3\u30e1\u30f3\u30c8\u4ed8\u4e0e\u6642\u9593\u3082\u52d5\u753b\u518d\u751f\u6642\u9593\u3082\u30d7\u30ed\u30b0\u30e9\u30e0\u4e0a\u3067\u5229\u7528\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n          \u682a\u5f0f\u4f1a\u793e\u30c9\u30ef\u30f3\u30b4\u306e\u7279\u8a31\u4fb5\u5bb3\u306b\u306f\u306a\u3063\u3066\u3044\u307e\u305b\u3093\u306e\u3067\u3001\u3054\u5b89\u5fc3\u3057\u3066\u3054\u5229\u7528\u304f\u3060\u3055\u3044\u3002\n          ")),r.a.createElement("div",{id:"param-area"},r.a.createElement("p",{id:"option-text"},"\u8a2d\u5b9a"),r.a.createElement("p",{className:"param-text2"},"\u30c1\u30e3\u30f3\u30cd\u30ebID:"," ",r.a.createElement("input",{type:"text",placeholder:"\u5fc5\u9808",value:a.channelId,className:"inputBox",id:"inp-channelId",onChange:k}),"\u203bhttps://www.openrec.tv/user/***** \u2190\u3053\u3053\u306e\u90e8\u5206"),r.a.createElement("label",null,r.a.createElement("input",{id:"chk-chatInUserName",className:"chkbx",type:"checkbox",checked:a.chatInUserName,onChange:S}),r.a.createElement("p",{className:"chkbx-parts"},"\u6d41\u308c\u308b\u30b3\u30e1\u30f3\u30c8\u306b@\u540d\u524d\u3092\u542b\u3081\u308b")),r.a.createElement("label",null,r.a.createElement("input",{id:"chk-chatColorMode",className:"chkbx",type:"checkbox",checked:a.chatColorMode,onChange:S}),r.a.createElement("p",{className:"chkbx-parts"},"\u6d41\u308c\u308b\u30b3\u30e1\u30f3\u30c8\u306e\u8272\u3092\u30e6\u30fc\u30b6\u304c\u8a2d\u5b9a\u3057\u305f\u8272\u306b\u3059\u308b")),r.a.createElement("p",{className:"param-text2"},"\u6d41\u308c\u308b\u30b3\u30e1\u30f3\u30c8\u306e\u5927\u304d\u3055:"," ",r.a.createElement("input",{type:"text",placeholder:"",className:"inputBox",id:"inp-chatSize",value:a.chatSize,onChange:k}),"px"),r.a.createElement("p",{className:"param-text2"},"\u6d41\u308c\u308b\u30b9\u30bf\u30f3\u30d7\u306e\u5927\u304d\u3055:"," ",r.a.createElement("input",{type:"text",placeholder:"",className:"inputBox",id:"inp-stampSize",value:a.stampSize,onChange:k}),"px"),r.a.createElement("p",{className:"param-text2"},"\u30b3\u30e1\u30f3\u30c8\u304c\u6d41\u308c\u308b\u901f\u5ea6:"," ",r.a.createElement("input",{type:"text",placeholder:"",className:"inputBox",id:"inp-chatSpeed",value:a.chatSpeed,onChange:k}),"\u203b\u5c11\u306a\u3044\u307b\u3069\u65e9\u3044"),r.a.createElement("p",{className:"param-text2"},"\u30b3\u30e1\u30f3\u30c8\u306e\u6700\u5927\u8868\u793a\u6587\u5b57\u6570:"," ",r.a.createElement("input",{type:"text",placeholder:"",className:"inputBox",id:"inp-chatLengthMax",value:a.chatLengthMax,onChange:k}),"\u203b\u8d85\u3048\u305f\u5206\u306f\u7701\u7565\u3057\u3066\u8868\u793a"),r.a.createElement("label",null,r.a.createElement("input",{id:"chk-giftNoticeMode",className:"chkbx",type:"checkbox",checked:a.giftNoticeMode,onChange:S}),r.a.createElement("p",{className:"chkbx-parts"},"\u30a8\u30fc\u30eb\u304c\u304d\u305f\u3089\u753b\u9762\u4e0a\u304b\u3089\u964d\u3063\u3066\u304f\u308b")),r.a.createElement("label",null,r.a.createElement("input",{id:"chk-giftNoticeFeederMode",className:"chkbx",type:"checkbox",checked:a.giftNoticeFeederMode,onChange:S}),r.a.createElement("p",{className:"chkbx-parts"},"\u30a8\u30fc\u30eb\u304c\u304d\u305f\u3089\u753b\u9762\u4e0b\u306b\u8a73\u7d30\u304c\u6d41\u308c\u308b")),r.a.createElement("p",{className:"param-text2"},"\u30a8\u30fc\u30eb\u304c\u843d\u3061\u308b\u901f\u5ea6:"," ",r.a.createElement("input",{type:"text",placeholder:"",className:"inputBox",id:"inp-giftSpeed",value:a.giftSpeed,onChange:k}),"\u203b\u5c11\u306a\u3044\u307b\u3069\u65e9\u3044"),r.a.createElement("label",null,r.a.createElement("input",{id:"chk-giftNoticeSound",className:"chkbx",type:"checkbox",checked:a.giftNoticeSound,onChange:S}),r.a.createElement("p",{className:"chkbx-parts"},"\u30a8\u30fc\u30eb\u304c\u6765\u305f\u6642\u306b\u97f3\u3092\u9cf4\u3089\u3059")),"\u203bPREVIEW\u3060\u3068\u306a\u3089\u306a\u3044\u304b\u3082",r.a.createElement("label",null,r.a.createElement("input",{id:"chk-demoMode",className:"chkbx",type:"checkbox",checked:a.demoMode,onChange:S}),r.a.createElement("p",{className:"chkbx-parts"},"\u30c7\u30e2\u30e2\u30fc\u30c9"))),r.a.createElement("span",{className:"output-text"},"OUTPUT URL"),r.a.createElement("div",{id:"output-area"},r.a.createElement("input",{type:"text",placeholder:"",value:o,className:"outputBox",id:"outputUrl",onFocus:function(e){a.channelId&&(e.target.select(),document.execCommand("Copy"),w(!0))},readOnly:!0})),r.a.createElement("div",{id:"copied-text",style:{transition:"1s",opacity:E?1:0}},"\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f"),r.a.createElement("span",{className:"preview-text"},"PREVIEW"),r.a.createElement("div",{id:"iframe-area"},r.a.createElement("iframe",{title:"preview",src:f,frameBorder:"1",width:"1920",height:"1080",id:"previewFrame"})))},g=a(13),f=(a(34),a(15)),v=a(16),b=function(){function e(t,a){Object(f.a)(this,e),this.id=void 0,this.uri=void 0,this.instance=void 0,this.handshakeLoop=void 0,this.commentObserverRef=void 0,this.id=t,this.uri="wss://chat.openrec.tv/socket.io/?movieId="+this.id+"&EIO=3&transport=websocket",this.instance=new WebSocket(this.uri),this.commentObserverRef=a}return Object(v.a)(e,[{key:"connect",value:function(){var e=this;this.instance.onopen=function(t){e.onOpen(t)},this.instance.onclose=function(t){e.onClose(t)},this.instance.onmessage=function(t){e.onMessage(t)},this.instance.onerror=function(t){e.onError(t)}}},{key:"disconnect",value:function(){try{this.instance.close()}catch(e){throw console.error(e),new Error("Failed disconnect websocket.")}}},{key:"onOpen",value:function(e){var t=this;console.log("CONNECTED"),this.commentObserverRef.on({message:"\u30c1\u30e3\u30c3\u30c8\u30b5\u30fc\u30d0\u30fc\u3068\u63a5\u7d9a\u3057\u307e\u3057\u305f\u3002\u30b3\u30e1\u30f3\u30c8\u306e\u53d6\u5f97\u3092\u958b\u59cb\u3057\u307e\u3059\u3002"}),this.handshakeLoop=setInterval((function(){t.handshake()}),25e3)}},{key:"onClose",value:function(e){console.log("DISCONNECTED"),this.handshakeLoop&&clearInterval(this.handshakeLoop)}},{key:"onMessage",value:function(e){var t,a;try{if("3"==e.data);else if("40"==e.data);else if("0"==e.data.slice(0,1))t=e.data.slice(1),a=JSON.parse(t),console.log(a);else{if(t='"'+e.data.slice(14,-2)+'"',a=JSON.parse(t),a=JSON.parse(a),console.log(a),0==a.type)new y(a.data,this.commentObserverRef).push();else 1==a.type||(3==a.type?(console.log("live end"),this.disconnect()):10==a.type||console.log(a.type,a.data))}}catch(n){e.data?console.log(e.data):console.log(e),console.log(n)}}},{key:"onError",value:function(e){console.log("ERROR:"+e),this.instance.close()}},{key:"handshake",value:function(){this.instance.send("2"),console.log("handshake")}}]),e}(),y=function(){function e(t,a){Object(f.a)(this,e),this.info=void 0,this.observer=void 0,console.log("================= ================================= =========================="),console.log(t),this.info=t,this.observer=a}return Object(v.a)(e,[{key:"push",value:function(){var e="https://dqd0jw5gvbchn.cloudfront.net/tv/v8.11.0/static/svg/commons";"1"===this.info.user_type&&(this.info.user_name+='<img src="'+e+'/official.svg" class="mark">'),this.info.is_premium&&(this.info.user_name+='<img src="'+e+'/premium.svg" class="mark">'),this.info.is_moderator&&(this.info.user_name+='<img src="'+e+'/moderator.svg" class="mark">'),this.info.is_fresh&&(this.info.user_name+='<img src="'+e+'/begginer.svg" class="mark">'),this.info.is_warned&&(this.info.user_name+='<img src="'+e+'/warned.svg" class="mark">'),console.log(this.info.message),this.observer.on(this.info)}}]),e}(),E=function(){function e(){Object(f.a)(this,e),this._readers=void 0,this._readers=[]}return Object(v.a)(e,[{key:"on",value:function(e){this._readers.push(e)}},{key:"off",value:function(e){this._readers.splice(this._readers.indexOf(e),1)}},{key:"readers",get:function(){return this._readers}}]),e}(),w=a(12),k=a.n(w),S=a(18),N=function(){var e=Object(S.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://public.openrec.tv/external/api/v5/movies?channel_id="+t);case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O={movie_id:1655382,live_type:1,onair_status:1,user_id:5049010,openrec_user_id:50990,user_name:"\u30ab\u30aa\u30b9\u30bd\u30eb\u30b8\u30e3\u30c3",user_type:"2",user_key:"hannma",user_identify_id:"R_v9xetQpSgNS",user_rank:0,chat_id:341360867,item:0,golds:0,message:"\u753b\u8cea\u3088\u304d",cre_dt:"2020-04-15 19:18:42",message_dt:"2020-04-15 19:18:42",is_fresh:0,is_warned:0,is_moderator:0,is_premium:1,is_authenticated:1,has_banned_word:0,stamp:null,quality_type:2,user_icon:"https://www.openrec.tv/images/v4/default/profile.png",supporter_rank:0,is_creaters:0,is_premium_hidden:0,user_color:"#e200ff",yell:null,yell_type:null,to_user:null,capture:null,item_data:null,display_dt:"0\u79d2\u524d",del_flg:0,badges:[]},x={movie_id:1655382,live_type:1,onair_status:1,user_id:132399086,openrec_user_id:1026680,user_name:"\u3086\u3081\u304b\u308f",user_type:"2",user_key:"momijiiii",user_identify_id:"o4Il6AvpofE8v",user_rank:0,chat_id:341361476,item:0,golds:0,message:"",cre_dt:"2020-04-15 19:22:52",message_dt:"2020-04-15 19:22:52",is_fresh:0,is_warned:0,is_moderator:0,is_premium:1,is_authenticated:1,has_banned_word:0,stamp:{stamp_id:380,group_id:15,image_url:"https://dqd0jw5gvbchn.cloudfront.net/stamp/15/128/4532998fa45a5b73e8928cb6ac82f651a9b951ff.png"},quality_type:2,user_icon:"https://openrec-appdata.s3.amazonaws.com/user/1323991/132399086.png?1577618658",supporter_rank:0,is_creaters:0,is_premium_hidden:0,user_color:"#eaff00",yell:null,yell_type:null,to_user:null,capture:null,item_data:null,display_dt:"0\u79d2\u524d",del_flg:0,badges:[]},j={movie_id:1655382,live_type:1,onair_status:1,user_id:22399237,openrec_user_id:163096,user_name:"\u30bd\u3066\u301c",user_type:"2",user_key:"sophia_N",user_identify_id:"Ys_3rqAdzf3JM",user_rank:0,chat_id:341361614,message:"\u30ad\u30e3\u30d7\u30c1\u30e3\u3092\u516c\u958b\u3057\u307e\u3057\u305f\u3002",cre_dt:"2020-04-15 19:23:43",is_fresh:0,is_warned:0,is_moderator:0,is_premium:0,is_authenticated:1,has_banned_word:0,stamp:null,user_icon:"https://openrec-appdata.s3.amazonaws.com/user/223993/22399237.png?1472296057",supporter_rank:0,is_creaters:0,is_premium_hidden:0,user_color:"#B6FF59",yell:null,yell_type:null,to_user:null,capture:{capture:{id:"kvn4kp83qe6",movie_start_point:"01:56:39",capture_point:"01:57:24",title:"\u203b\u30dc\u30c8\u30eb\u304b\u3089\u6301\u3061\u63db\u3048\u3066\uff11\u8a66\u5408\u76ee\u3067\u3059",status:"finish",is_public:!0,published_at:"2020-04-15T19:23:43+09:00",is_ban:!1,is_hidden:!1,start_time:48.58306270627064,end_time:121.483,total_views:0,created_at:"2020-04-15T19:22:48+09:00",chat_from_at:"2020-04-15T19:20:48+09:00",url:"/external/api/v5/captures/kvn4kp83qe6/playlist.m3u8",thumbnail_url:"https://hayabusa.io/openrec-image/thumbnails/capture/1655382-015724/capture_2.w350.ttl3600.jpg?format=jpg&progressive=true",thumbnail_urls:[]},capture_channel:{id:"sophia_N",openrec_user_id:163096,recxuser_id:22399237,nickname:"\u30bd\u3066\u301c",introduction:"",icon_image_url:"https://hayabusa.io/openrec-image/user/223993/22399237.w90.ttl3600.v1472296057.png?format=png",l_icon_image_url:"https://hayabusa.io/openrec-image/user/223993/22399237.w320.ttl3600.v1472296057.png?format=png",cover_image_url:"",l_cover_image_url:"",follows:50,followers:12,is_premium:!1,is_official:!1,is_fresh:!1,is_warned:!1,is_team:!1,is_league_yell:!1,is_live:!1,live_views:0,last_updated_at:null,user_status:"bang",is_creator:!1,premium_start_at:null,premium_charge_type:null,premium_payment_status:null,email:null,twitter_screen_name:null}},item_data:null,display_dt:"0\u79d2\u524d",del_flg:0,badges:[]},M={movie_id:1655697,live_type:1,onair_status:1,user_id:413052603,openrec_user_id:1910999,user_name:"\u3054\u3063\u3057\u3043",user_type:"2",user_key:"Goshi1015",user_identify_id:"7BbnzP96gBW",user_rank:0,chat_id:341378135,item:0,golds:0,message:"\u7dd1\u306e\u3046\u3055\u304e\u98a8\u3044\u3044\u3093\u3059\u304b!?\u304c\u805e\u304d\u305f\u304f\u3066\u7b11",cre_dt:"2020-04-15 20:35:58",message_dt:"2020-04-15 20:35:41",is_fresh:0,is_warned:0,is_moderator:0,is_premium:0,is_authenticated:1,has_banned_word:0,stamp:null,quality_type:1,user_icon:"https://openrec-appdata.s3.amazonaws.com/user/4130527/413052603.png?1581725208",supporter_rank:0,is_creaters:0,is_premium_hidden:0,user_color:"#94FF0D",yell:{yell_id:171,name:"01_winterfood",label:"[\u516c\u958b]_02_winterfood",image_url:"https://dqd0jw5gvbchn.cloudfront.net/yell/171/eb06122f3a2e297895078dd1639e09c59ed8797b.gif",image_url_small:"",animation_url:"",points:200,yells:160,ticker_seconds:10},yell_type:"channel",to_user:{id:"tototArisakaaa",openrec_user_id:9150,recxuser_id:375495,nickname:"\u3042\u308a\u3055\u304b",introduction:"Youtube\u3068OPENREC\u3067\u6642\u9593\u4e0d\u5b9a\u671f\u3067\u914d\u4fe1\u3057\u3066\u307e\u3059\u21b5 \u21b5\u3010\u6240\u5c5e\u30c1\u30fc\u30e0\u3011\u21b5Crazy Raccoon\u21b5\u21b5\u304a\u4ed5\u4e8b\u4f9d\u983c\u306f\u3053\u3061\u3089\u306b\u3054\u9023\u7d61\u304f\u3060\u3055\u3044\u21b5crazyraccoon1205@gmail.com\u21b5\u21b5twitter\u21b5https://twitter.com/ArisakaaaT\u21b5amazon\u6b32\u3057\u3044\u3082\u306e\u21b5http://amzn.asia/fHD8uqD \u21b5youtube\u21b5https://www.youtube.com/channel/UCLLuaTElO1eRGOo2qc_Rdsw?view_as=subscriber\u21b5",icon_image_url:"https://hayabusa.io/openrec-image/user/3755/375495.w90.ttl3600.v1518946365.png?format=png",l_icon_image_url:"https://hayabusa.io/openrec-image/user/3755/375495.w320.ttl3600.v1518946365.png?format=png",cover_image_url:"https://hayabusa.io/openrec-image/user_background/3755/375495_cover.w210.ttl3600.v1586456686.png?format=png",l_cover_image_url:"https://hayabusa.io/openrec-image/user_background/3755/375495_cover.ttl3600.v1586456686.png?format=png",follows:23,followers:25955,is_premium:!0,is_official:!0,is_fresh:!1,is_warned:!1,is_team:!1,is_league_yell:!1,is_live:!1,live_views:0,last_updated_at:"2020-04-15T20:21:11+09:00",user_status:"publish",is_creator:!0,premium_start_at:null,premium_charge_type:null,premium_payment_status:null,email:null,twitter_screen_name:null},capture:null,item_data:null,display_dt:"0\u79d2\u524d",del_flg:0,badges:[{id:82,image_url:"https://dqd0jw5gvbchn.cloudfront.net/badge/subscription/16/20_1_20200413150408.png",label:"\u3042\u308a\u3055\u304b\u306e\u30b5\u30d6\u30b9\u30af",type:"subscription",subscription:{months:1,tier:0}}]},z=function(e){var t=e.comments,a=e.style;return r.a.createElement(r.a.Fragment,null,t.map((function(e,t){return r.a.createElement("div",{key:"comment-".concat(e.chat_id),className:"comment-row"},r.a.createElement("div",{className:"comment-wrapper",style:{fontSize:a.textSize}},r.a.createElement(I,{comment:e,style:a})))})))},I=function(e){var t=e.comment,a=e.style;return t.stamp?r.a.createElement("div",null,r.a.createElement("img",{src:t.stamp.image_url,alt:t.stamp.image_url,className:"stamp",style:{width:a.stampSize}})):t.capture?r.a.createElement("div",null,r.a.createElement("img",{src:t.capture.capture.thumbnail_url,alt:t.capture.capture.thumbnail_url,className:"capture",style:{width:a.captureSize}}),r.a.createElement("span",null,t.message),r.a.createElement("span",null,t.capture.capture.title)):t.yell?r.a.createElement("div",null,r.a.createElement("div",null,t.message),r.a.createElement("img",{src:t.yell.image_url,alt:t.yell.image_url,className:"yell",style:{width:a.yellSize}}),r.a.createElement("span",null,t.yell.yells)):r.a.createElement("div",null,t.message)},C=function(e){var t=e.location,a=new URLSearchParams(t.search),i=Object(n.useState)(a.get("channelId")),c=Object(m.a)(i,1)[0],s=Object(n.useState)("on"===a.get("demoMode")),o=Object(m.a)(s,1)[0],l=Object(n.useState)(a.get("autoScrollStartMargin")&&""!==a.get("autoScrollStartMargin")?Number(a.get("autoScrollStartMargin")):1e3),d=Object(m.a)(l,2),p=d[0],h=(d[1],Object(n.useState)(a.get("autoScrollInterval")?Number(a.get("autoScrollInterval")):500)),_=Object(m.a)(h,1)[0],f=Object(n.useState)({textSize:a.get("textSize")?Number(a.get("textSize")):14,stampSize:a.get("stampSize")?Number(a.get("stampSize")):100,yellSize:a.get("yellSize")?Number(a.get("yellSize")):100,captureSize:a.get("captureSize")?Number(a.get("captureSize")):100}),v=Object(m.a)(f,1)[0],y=Object(n.useState)(null),w=Object(m.a)(y,2),k=w[0],S=w[1],I=Object(n.useState)(new E),C=Object(m.a)(I,1)[0],R=Object(n.useState)(null),T=Object(m.a)(R,2),D=T[0],F=T[1],L=Object(n.useState)([]),U=Object(m.a)(L,2),B=U[0],q=U[1],P=Object(n.useRef)(),J=Object(n.useRef)(),W=Object(n.useRef)(),A=Object(n.useRef)(null);Object(n.useEffect)((function(){if(o){var e={message:"\u30c7\u30e2\u914d\u4fe1\u30b9\u30bf\u30fc\u30c8",chat_id:(new Date).getTime()};q((function(t){return[e]})),setInterval((function(){(new Date).getTime()}),1e3),setInterval((function(){q((function(e){return[].concat(Object(g.a)(e),[Object(u.a)({},O,{chat_id:(new Date).getTime()})])})),q((function(e){return[].concat(Object(g.a)(e),[Object(u.a)({},x,{chat_id:(new Date).getTime()})])})),q((function(e){return[].concat(Object(g.a)(e),[Object(u.a)({},M,{chat_id:(new Date).getTime()})])})),q((function(e){return[].concat(Object(g.a)(e),[Object(u.a)({},j,{chat_id:(new Date).getTime()})])}))}),3e3)}else{var t={message:"\u914d\u4fe1\u958b\u59cb\u3092\u5f85\u3063\u3066\u3044\u307e\u3059..."};q((function(e){return[t]})),G()}return function(){null===k||void 0===k||k.disconnect()}}),[]),Object(n.useEffect)((function(){null!==D&&(S(new b(D.id,C)),J.current=setInterval((function(){var e=C.readers;q((function(t){return JSON.parse(JSON.stringify(e))}))}),500))}),[D]),Object(n.useEffect)((function(){k&&k.connect()}),[k]),Object(n.useEffect)((function(){W.current=setInterval((function(){var e,t,a=window.innerHeight+window.scrollY,n=null===(e=A.current)||void 0===e?void 0:e.scrollHeight;n&&((0===p||a>=n-p)&&(null===(t=A.current)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})))}),_)}),[]);var G=function e(){c&&N(c).then((function(t){console.log(t);var a=t.find((function(e){return 1===e.onair_status}));a?F({id:a.movie_id,title:a.title,channel:a.channel.name}):(console.log("Not now onair. retry checking after ".concat(1e4,"ms...")),P.current=setTimeout(e,1e4))})).catch((function(e){throw new Error("Failed get movie id. Please check if it is a valid user ID.")}))};return o||c?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"chatArea",ref:A},r.a.createElement(z,{comments:B,style:v}))):r.a.createElement("div",null,"\u30c1\u30e3\u30f3\u30cd\u30ebID\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002")},R=function(){return r.a.createElement(s.a,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",render:function(){return r.a.createElement(_,null)}}),r.a.createElement(o.b,{exact:!0,path:"/generator",render:function(e){return r.a.createElement(C,e)}}),r.a.createElement(o.a,{to:"/"})))},T=function(){return r.a.createElement(R,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.8c676f64.chunk.js.map